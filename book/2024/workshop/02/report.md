# Extreme Value Analysis for Hydraulic and Offshore structures

_This solution refers to specific Tasks in the notebook `Analysis_Solution.ipynb`._

Complete the tasks in `Analysis.ipynb` then answer the following questions.

This assignment will be graded as described on the Unit Website [here](https://tudelft-citg.github.io/HOS-prob-design-24/info/#grading). In addition, you will earn a higher grade if you implement more than 1 technique to validate the threshold.

Remember that your report is expected to be well-formatted, which means you take advantage of Markdown features and include tables and figures to explain your reasoning (this does _not_ mean include a _lot_ of figures, but rather, use figures to help explain your answer).

Note that while there are placeholders in the notebook for you to write answers/interpretation, these are for your own learning, and will not be graded directly.

Don't forget to **email Robert your group member info**, as described on [this page](https://tudelft-citg.github.io/HOS-prob-design-24/info/#groups).

1. What is the design requirement?

The design requirement is 475 years (Task 1). The design value of $H_s$ using BM/GEV is 9.74 m (Task 8). The design value of $H_s$ using POT/GPD is 10.37 mm (Task 12).

2. In the working notebook, you have different steps to 'clean' the data and analyze the storms that generate extreme events. Based on the results of the those analyses, which data should we consider for our EVA? Why? 

_Task 4 solution text:_

First analysis, wave height and mean wave direction: When working with wave data, we need to ensure that we are 
considering waves generated by the same drivers, so it is the same statistical population. For instance, in a given
location in the coast, we may have summer storms coming from the North and storms coming from the East during the
fall. Both of them will generate extreme observations, but we need to study them independently, since their
characteristics are different.

Second analysis, wave height and wave period: Swell waves are those generated by wind in the far field and
propagated through long distances towards the coast, although they may not be sustained by wind anymore. Swell waves
are usually linked to longer wave periods and, thus,lower values of the wave steepness. On the other hand, locally
generated sea waves are usually characterized by short wave periods and higher values of wave steepness. In order
to consider waves that are generated by the same drivers, we need to separate waves with very different wave steepness.

In the plot above, we can see that the waves over the 99% percentiles present a similar low value of the wave
steepness, being then swell waves. Therefore, we can use for our EVA analysis those waves coming with a mean wave 
angle between 200 and 320 already selected in the dataframe pandas_angle.

3. List the methods that you have used to perform Extreme Value Analysis and briefly describe how they are applied and their differences.

Answers to this question should state BM and POT and confirm that the two primary methods differ in their sampling approach and that the theoretical distributions are different as a result. The primary reason for choosing one over the other is to maximize the amount of data used to fit the distribution. POT typically provides more data, as there may be more than one storm per year. The trade-off is that one must convert the "per storm" values to annual values (if that is the design objective) as well as choose additional model parameters (threshold and declustering time) and perform an extra validation step.

4. Compare the results obtained from both Extreme Value Analysis methods. What are the differences? Which method would you choose?
    
You can compare the following aspects:
- Goodness of fit of both distributions to the sampled observations.
- Obtained return level plots.
- Obtained design value.

_See notebook for a description of each of the aspects listed above, along with the result._

In particular, the difference design value for $H_s$ from BM and POT is over 0.5 m, which could have a significant impact on the structure design.

5. You were asked to apply at least one validation method to justify whether a threshold=5m and a declustering time=72h are reasonable or not. Describe your conclusion and reasoning here.

_The notebook uses the Python package `pyextremes` to carry out some computations. You did not have to use this yourself, but may find it useful for your project and are welcome to use it in the future. The Dispersion Index is computed using a function in a separate `*.py` file that is added to the repository._

Three validation methods are presented in the solution for Task 13 in the notebook, and the conclusions summarized here:
- parameter stability indicates thresholds up to 5.5 m are reasonable
- mean residual life indicates thresholds up to 6 m seem reasonable (linear trend gauged by eye)
- dispersion index is ideally 1.0, which is closest (and within confidence band) when the threshold is between 5.5 and 6.0 m

Overall, a threshold of 5.5 m seems like the best choice. 

6. You will be expected to apply EVA in your B Module projects/exercises later in the quarter in a similar way to this workshop. This question is a chace to let us know if you do not yet feel comfortable doing that. Use the space below to let us know if you have any questions or suggestions for what we could do to make sure this goes smoothly for you.

_An answer to this question is optional._